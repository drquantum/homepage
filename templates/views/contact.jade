extends ../layouts/default

block css
	link(href='/styles/site/footer.min.css', rel="stylesheet")
	link(href="/styles/site/contact.min.css", rel="stylesheet")
block head
	title=t('contact:title')
	meta(name="description", content=t('contact:description'))
	script(src="https://maps.google.com/maps/api/js?sensor=false")
block content
	section#form-wrapper
		if enquirySubmitted 
			h3.sent.front=t('contact:sent')
		.overlay.overlay-tvnoise
		.container.front
			+flash-messages(messages).front
			h1=t('contact:catchphrase')
			p=t('contact:subtitle')
			form(name="formContact" id="formContact" action="" method="post" role="form").clearfix.row
				input(type='hidden', name='action', value='contact')
				.form-group.col-sm-offset-1.col-sm-10.col-md-4.col-md-offset-2
					input#fullname(type="text",name="name.full",value=formData['name.full'],placeholder=t('form:fullname'),class=validationErrors.name ? 'has-error': ' ').form-control.constrained
				.form-group.col-sm-offset-1.col-sm-10.col-md-4.col-md-offset-0
					input#company(type="text",name="company",value=formData.company, placeholder=t('form:company'),class=validationErrors.company ? 'has-error': ' ').form-control.constrained
				.form-group.col-sm-offset-1.col-sm-10.col-md-4.col-md-offset-2
					input#email(type="email",name="email", value=formData.email, placeholder=t('form:email'),class=validationErrors.email ? 'has-error': ' ').form-control.constrained
				.form-group.col-sm-offset-1.col-sm-10.col-md-4.col-md-offset-0
					input#phone(type="text",name="phone", value=formData.phone, placeholder=t('form:phone'),class=validationErrors.phone ? 'has-error': ' ').form-control.constrained
				.form-group.col-sm-offset-1.col-sm-10.col-md-8.col-md-offset-2
					textarea#msg(name="message",placeholder=t('form:msg'),rows="4",cols="40",class=validationErrors.message ? 'has-error': ' ').form-control.msg-constrained=formData.message
				.form-actions.col-sm-offset-1.col-sm-10.col-md-4.col-md-offset-4
					button.form-submit-btn(type="submit")
						span=t('form:submit')
		if trySubmit
			if sent
				h3.sent=t('contact:sent')
			else 
				h3.error=t('contact:notsent')
	section#address-wrapper.container-fluid
		.row
			.col-xs-10.col-xs-offset-1.col-sm-6.col-sm-offset-3.col-md-5.col-md-offset-1.col-lg-3.col-lg-offset-2
				p.address-caption=t('contact:address-caption')
				p=t('contact:address-p')
			.col-xs-10.col-xs-offset-1.col-sm-6.col-sm-offset-3.col-md-5.col-md-offset-1.col-lg-3.col-lg-offset-3
				p.address-caption
					| Infocinc
				ul
					li
						| 1560 Place de Tournai
					li
						| Terrebonne, Qc
					li=t('footer:office')+': '
						a(href="tel:+4384966886")
							| 438 496-6886
					li=t('footer:email')+': '
						a(href="mailto:info@infocinc.com")
							| info@infocinc.com
				#social-icons
					-var img = ['twitterlogo','facebooklogo','googlepluslogo','linkedin']
					-var href = [ '//twitter.com/Infocinc','//facebook.com/Infocinc', '//plus.google.com/+Infocinc1','//linkedin.com/company/infocinc']
					-var i = 0
					while i < 4
						a(target="_blank",href=href[i])
							img(src="/images/" + img[i] + '.png')
						-i++
	section#gmap-wrapper.container-fluid
		#gmap.col-md-10.col-md-offset-1
			#map_canvas
	include ../layouts/footer
block js
	script(src="/js/gmap.min.js")
	script(src="/js/vendor/jquery.placeholder.min.js")
	script(src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/jquery.validate.min.js")
	script.
		//- $.validator || document.write('<script src="/js/vendor/jquery.validate.min.js"><\/script>')
		//- var required = !{JSON.stringify(t('contact:required'))},
		//- 	maxlength = !{JSON.stringify(t('contact:maxlength'))},
		//- 	textareamaxlength = !{JSON.stringify(t('contact:textareamaxlength'))},
		//- 	validemail = !{JSON.stringify(t('contact:validemail'))}

		//- $.validator.addMethod("cRequired", $.validator.methods.required, required)
		//- $.validator.addMethod("cMaxLength", $.validator.methods.maxlength, maxlength)
		//- $.validator.addMethod("cTextAreaMaxLength", $.validator.methods.maxlength, textareamaxlength)
		//- $.validator.addClassRules("constrained", {
		//- 	cRequired: true,
		//- 	cMaxLength: 50
		//- })
		//- $.validator.addClassRules("msg-constrained", {
		//- 	cRequired: true,
		//- 	cTextAreaMaxLength: 2000
		//- })

		//- $('#formContact').validate({
		//- 	messages: {
		//- 		"email": validemail
		//- 	},
		//- 	success: function(label, element) {
		//- 		$(element).removeClass('has-error');
		//- 		$(element).addClass('has-success');
		//- 	},
		//- 	errorPlacement: function(error, element) {
		//- 		$(element).addClass('has-error');
		//- 		$(element).closest("div").append(error);
		//- 	},
		//- 	errorElement: "span"
		//- })